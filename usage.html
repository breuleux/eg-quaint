
<!DOCTYPE html>

<html>

  <head>
    <meta http-equiv="Content-type" content="text/html" charset="UTF-8">
    <title>Usage</title>
    <link rel="stylesheet" type="text/css" href="/quaint/style/style.css">
    <script src="/quaint/lib/toc-scroll.js"></script></head>

  <body>
    

<div id="sidebar"><div id="sidebar-contents">
  <ul class="toc"><li><a href="#install">Install</a></li><li><a href="#usage">Usage</a></li><li><a href="#templates">Templates</a></li><li><a href="#plugins">Plugins</a></li><li><a href="#datainjection">Data injection</a></li><li><a href="#configurationfile">Configuration file</a></li></ul></div></div>

<div id="page">
  <div id="nav-container" class="container"><div id="nav">
      <a href="/quaint/index.html" id="logo-link"><div class="quaint-word">QUAINT</div>
<img src="/quaint/assets/quaint-beige.png" height="30px" class="logo"></a>
      <div class="filler"></div>
      <div class="navlink"><a href="/quaint/syntax.html">Syntax</a></div>
      <div class="navlink"><a href="/quaint/usage.html">Usage</a></div>
      <div class="navlink"><a href="/quaint/api.html">API</a></div>
      <div class="navlink"><a href="/quaint/plugins/index.html">Plugins</a></div>
      <div class="navlink"><a href="/quaint/tryit.html">Try it!</a></div>
      <div class="navlink"><a href="http://github.com/breuleux/quaint">Github</a></div></div></div>
  

<div id="main-container" class="container"><div id="main">







<h1 id="install">Install</h1>

<p>Assuming you have <code class="hl">npm</code> installed:</p>

<pre class="hl">npm install quaint -g</pre>

<p>This will install a <code class="hl">quaint</code> command globally. It will be your main
tool unless you want to use the <a href="/quaint/api.html">API</a> directly or <a href="/quaint/plugins/write.html">write your own
plugins</a>.</p>


<h1 id="usage">Usage</h1>

<p>Here's the help for the <code class="hl">quaint</code> command:</p>

<pre class="hl">Usage: quaint &lt;file ...&gt; [options]

Options:
  -c, --config    Path to a configuration file with option values (must be JSON)
                                                      [default: "./quaint.json"]
  -d, --data      JSON string or file(s) defining field:value pairs to be made
                  available inside markup (as {field}):
                  * key:value
                  * {"key": value, ...}
                  * filename.json
                  * prefix::filename.json
  -e, --eval      Quaint string to parse directly
  -f, --format    Format (only html currently supported)       [default: "html"]
  -h, --help      Show help                                            [boolean]
  -o, --out       File or directory to save the output to
  -p, --plugin    Plugin(s) to import:
                  * Quaint file (injected at the beginning)
                  * Path to JavaScript file
                  * Local npm module
                  * Global npm module
  -s, --stdout    Print to standard out               [boolean] [default: false]
  -t, --template  Quaint file to use as template, or template directory
  -v, --verbose   Print information about the operations performed     [boolean]
  --save-meta     Save meta data in a file (./meta.json if the file is not
                  specified)                                    [default: false]</pre>


<h1 id="templates">Templates</h1>

<p>Templates are an important part of <code class="hl">quaint</code>. They are very simple and
let you avoid repeating yourself.</p>

<p>Let's make a simple boilerplate template with the doctype, &lt;html&gt; tag
and whatnot. You might actually want to save this one!</p>

<p><strong>boilerplate.q</strong></p>

<pre class="hl">doctype :: html
html %
  head %
    meta %
       http-equiv = Content-type
       content = text/html
       charset = UTF-8
    title % [meta :: title] !! Untitled
    link %
       rel = stylesheet
       type = text/css
       href = my-stylesheet.css
  body %
    {body}</pre>

<p>Notice the line that reads <code class="hl">{body}</code>: this is the place in the template
where the contents of our post will be inserted.</p>

<p>Now you can write the post:</p>

<p><strong>post.q</strong></p>

<pre class="hl">template :: boilerplate

meta ::
  title = New post!

Hello! This is a new post!</pre>

<p>And run:</p>

<pre class="hl">quaint post.q</pre>

<p>Quaint will automatically fetch the template and fill it. It will also
use the meta-information for the title and put it at the right place!</p>

<p>Alternatively the <code class="hl">-t</code> flag can be used to either force a template or
point Quaint to a template directory (so you can be neatly organized):</p>

<pre class="hl">quaint post.q -t tpl.q      <span class="hljs-comment"># Will use tpl.q instead of boilerplate.q</span>
quaint post.q -t templates/ <span class="hljs-comment"># Will use templates/boilerplate.q</span></pre>

<p>Lastly: it is possible for a template to have a template (using the
same <code class="hl">template :: xyz</code> syntax that we saw). This is not a
problem at all unless you create a cycle (in which case <code class="hl">quaint</code> will
crash).</p>


<h1 id="plugins">Plugins</h1>

<p>Say you want to highlight some Javascript in a post:</p>

<p><strong>post.q</strong></p>

<pre class="hl">Here's my super cool square function:

javascript &amp;
  function square(x) {
      return x * x;
  }</pre>

<p>By default, Quaint will not do it. But the <code class="hl">quaint-highlight</code> plugin
will do it.</p>

<p>First you can install it globally (locally will work too):</p>

<pre class="hl">npm install quaint-highlight -g</pre>

<p>Once this is done you can refer to it by name (without the <code class="hl">quaint-</code>
part):</p>

<pre class="hl">quaint -p highlight post.q</pre>

<p>This will save the result in <code class="hl">post.html</code>. This uses
<a href="https://highlightjs.org/">highlight.js</a>.
You will need to include a stylesheet as well. They are available
<a href="https://github.com/isagalaev/highlight.js/tree/master/src/styles">here</a>.</p>

<p>You may of course use as many plugins as you want, just use the <code class="hl">-p</code>
option multiple times. For instance:</p>

<pre class="hl">quaint -p highlight -p javascript post.q</pre>

<p>If plugins can take options, you can provide them on the command line
by writing them out as JSON next to the plugin name, like this:</p>

<pre class="hl">quaint -p <span class="hljs-string">'highlight{"defaultLanguage: "python"}'</span> post.q</pre>

<p>Note that you can specify and configure plugins inside a Quaint file
with the <a href="syntax.html#plugin"><code class="hl">plugin</code></a> macro, although that will
only work on a per-file basis.</p>


<h1 id="datainjection">Data injection</h1>

<p>Let's create two files:</p>

<ul><li><code class="hl">post.q</code> will contain the Quaint markup we want to render</li>
<li><code class="hl">data.json</code> will contain data for the render</li></ul>

<p><strong>post.q</strong></p>

<pre class="hl">The individual is named {name} {surname}.
They are {gender} and were born on {birthdate}.</pre>

<p><strong>data.json</strong></p>

<pre class="hl">{
  "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Alice"</span></span>,
  "<span class="hljs-attribute">surname</span>": <span class="hljs-value"><span class="hljs-string">"Lovelace"</span></span>,
  "<span class="hljs-attribute">gender</span>": <span class="hljs-value"><span class="hljs-string">"female"</span></span>,
  "<span class="hljs-attribute">birthdate</span>": <span class="hljs-value"><span class="hljs-string">"1960/06/21"</span>
</span>}</pre>

<p>Once these are defined, simply write:</p>

<pre class="hl">quaint post.q <span class="hljs-operator">-d</span> data.json</pre>

<p>The data will be filled in as you would expect. Moreover, you can
override parts of the data directly on the command line. For instance,
if you want Alice's surname to be Pottergeist instead, you can do
this:</p>

<pre class="hl">quaint post.q <span class="hljs-operator">-d</span> data.json <span class="hljs-operator">-d</span> surname:Pottergeist</pre>

<p>Or this:</p>

<pre class="hl">quaint post.q <span class="hljs-operator">-d</span> data.json <span class="hljs-operator">-d</span> <span class="hljs-string">'{"surname": "Pottergeist"}'</span></pre>

<p>If you use the <code class="hl">quaint-javascript</code> plugin, all of the JSON contents
become top-level variables. This means that you could, for instance,
calculate Alice's age from her birthdate as an expression inside curly
braces.</p>



<h1 id="configurationfile">Configuration file</h1>

<p>If there is a <code class="hl">quaint.json</code> file in the current directory, its contents
will be used to fill in the options for generation. You can also
specify a different configuration file with the <code class="hl">-c</code> option.</p>

<p>Here is a sample <code class="hl">quaint.json</code> file:</p>

<pre class="hl">{
    "<span class="hljs-attribute">sources</span>": <span class="hljs-value"><span class="hljs-string">"src"</span></span>,
    "<span class="hljs-attribute">output</span>": <span class="hljs-value"><span class="hljs-string">"out"</span></span>,
    "<span class="hljs-attribute">template</span>": <span class="hljs-value"><span class="hljs-string">"templates"</span></span>,
    "<span class="hljs-attribute">data</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Roland"</span></span>,
        "<span class="hljs-attribute">surname</span>": <span class="hljs-value"><span class="hljs-string">"Worthington"</span>
    </span>}</span>,
    "<span class="hljs-attribute">plugins</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">javascript</span>": <span class="hljs-value">{}</span>,
        "<span class="hljs-attribute">highlight</span>": <span class="hljs-value">{"<span class="hljs-attribute">defaultLanguage</span>": <span class="hljs-value"><span class="hljs-string">"python"</span></span>}
    </span>}
</span>}</pre>

<p>Then, executing <code class="hl">quaint</code> with no arguments, or <code class="hl">quaint -c
quaint.json</code>, will be equivalent to running it with the following
options:</p>

<pre class="hl">quaint \
  -o out \
  -t templates \
  -d'{"name": ...}' \
  -p javascript \
  -p 'highlight{"defaultLanguage": "python"}' \
  src</pre>

<p>Options in the configuration file can be supplemented (or overriden)
with command line options.</p>

</div></div>

  <div id="foot-container" class="container"><div id="foot"></div></div></div>

    </body></html>
